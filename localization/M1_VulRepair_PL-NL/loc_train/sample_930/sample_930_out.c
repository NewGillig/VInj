add_range!@#$(!@#$ctx!@#$,!@#$cmap!@#$,!@#$high!@#$+!@#$1!@#$,!@#$new_high!@#$,!@#$tree!@#$[!@#$current!@#$]!@#$.!@#$out!@#$+!@#$high!@#$+!@#$1!@#$-!@#$tree!@#$[!@#$current!@#$]!@#$.!@#$low!@#$,!@#$0!@#$,!@#$tree!@#$[!@#$current!@#$]!@#$.!@#$many!@#$)!@#$;!@#$